---
description: Agent rules for Weapply PM - AI Refinement project
globs: ["**/*"]
alwaysApply: true
---

# Weapply PM Agent Rules

## Project Management Integration

### Linear Tracking
- **Project**: WeApply - AI Refinement (ID: 5d992f68-4c78-4294-91d9-294808bf1d49)
- **Team**: WeTest
- **Default Assignee**: pelle@weapply.se

### When to Create Linear Issues
1. **New features** discussed â†’ Create Feature issue
2. **Bugs discovered** â†’ Create Bug issue
3. **Improvements suggested** â†’ Create Improvement issue
4. **Tasks identified** â†’ Create Task issue

### Issue Template
```
Title: [Clear, actionable title]
Project: WeApply - AI Refinement
Labels: [Type] + [Tech area if applicable]
Assignee: pelle@weapply.se
Description:
## Overview
[Brief description]

## Requirements
- Requirement 1
- Requirement 2

## Implementation
- Implementation step 1
- Implementation step 2
```

## Documentation Requirements

### CRITICAL: Keep Documentation Updated

After implementing any feature or making significant changes:

1. **Update Linear Project Document**
   - Document ID: `87ad9c07-f9fe-42fe-8ea6-60c1687548fa`
   - Title: "System Overview"
   - URL: https://linear.app/weapply/document/system-overview-3181a0fdda51
   - Must reflect current system state, features, and configuration

2. **Update REFINEMENT_PLAN.md**
   - Keep feature status current (âœ… Done / ðŸ”„ In Progress / ðŸ“‹ Planned)
   - Update flow diagrams if logic changes
   - Document new configuration options

3. **Add Implementation Comments to Linear Issues**
   - When completing an issue, add a comment with:
     - What was implemented
     - Key files changed
     - Any configuration required

### Documentation Checklist
- [ ] Linear "System Overview" document updated
- [ ] REFINEMENT_PLAN.md reflects changes
- [ ] Linear issue has implementation comment
- [ ] Any new env vars documented

## Development Workflow

### Before Making Changes
1. Check if related Linear issue exists
2. If not, create one with proper labels
3. Reference issue ID in commit messages

### After Making Changes
1. Update Linear issue status to Done
2. Add implementation notes as comments
3. **Update documentation (see above)**
4. Commit with descriptive message

### Code Changes
- Always use TypeScript
- Follow existing code patterns
- Add console.log with emojis for debugging
- Test locally before deploying

## Key Contacts
- **Project Owner**: Pelle Nyman (pelle@weapply.se)
- **Linear Team**: WeTest

## Feature Status

### âœ… Completed (Phase 1-3)
| Issue | Feature |
|-------|---------|
| WET-17 | Auto-assign internal senders |
| WET-18 | Client project creation |
| WET-19 | Urgency detection |
| WET-20 | Attachment handling |
| WET-21 | Internal forward detection |
| WET-22 | External direct routing |
| WET-23 | Manual refinement (Refine Queue) |
| WET-24 | Improved AI prompt |

### ðŸ“‹ Backlog (Future)
| Issue | Feature |
|-------|---------|
| WET-30 | Spam/marketing filtering |
| WET-31 | Duplicate detection |
| WET-32 | Thread tracking |
| WET-33 | AI image analysis |
| WET-34 | Slack notifications |
| WET-35 | Email auto-reply |
| WET-36 | Analytics dashboard |
